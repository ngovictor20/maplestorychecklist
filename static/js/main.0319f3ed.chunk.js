(this["webpackJsonpmaplestory-checklist"]=this["webpackJsonpmaplestory-checklist"]||[]).push([[0],{35:function(e,t,c){},36:function(e,t,c){"use strict";c.r(t);var a,s,r=c(0),n=c.n(r),l=c(10),i=c.n(l),o=c(1),d=function(){return Object(o.jsx)("div",{className:"text-center",children:Object(o.jsx)("h1",{className:"text-4xl",children:"Add a Character!"})})},u=c(2),h=c(5),b=c(12),j=c(3),f={dailyChecklist:{"Arcane Dailies":!1,Ursus:!1,"Maple Tour":!1,"Monster Park":!1,"Yu Garden":!1,Gollux:!1,"Legion Quest":!1,Bosses:{Zakum:!1,Horntail:!1,Hila:!1,"Root Abyss":!1,"Von Leon":!1,Arkarium:!1,Magnus:!1,"Pink Bean":!1,Ranmaru:!1},Commerci:{"Commerci PQ":!1,"Commerci Solo":!1}},shiftChecklist:{WAP:!1,"2x":!1,Legion:!1,Familiars:!1,"Drop/Meso Gear":!1,"Wild Totem":!1,"Additional EXP Shit":!1,"Link Skill Review":!1,"Legion Board Review":!1,Pets:!1},weeklyBosses:{HMag:!1,CZak:!1,HHila:!1,CBean:!1,CRA:!1,CPap:!1,"Princess No":!1,Akechi:!1,Lotus:!1,Damien:!1,Lucid:!1,VHila:!1}},g=c(6);!function(e){e.dailyChecklist="dailyChecklist",e.weeklyBosses="weeklyBosses",e.shiftChecklist="shiftChecklist"}(a||(a={})),function(e){e.magician="magician",e.thief="thief",e.warrior="warrior",e.bowman="bowman",e.pirate="pirate"}(s||(s={}));var m,p,x={checklist:{dailyChecklist:{},shiftChecklist:{},weeklyBosses:{}},characters:[],characterIndex:0,checklistType:a.dailyChecklist},O=Object(b.b)({name:"state",initialState:x,reducers:{updateChecklist:function(e,t){e.checklist=t.payload},updateCharList:function(e,t){e.characters=t.payload},addChar:function(e,t){e.characters.push(t.payload),console.log(Object(j.a)(e).characters),localStorage.setItem("characters",JSON.stringify(Object(j.a)(e).characters))},updateChecklistItem:function(e,t){e.checklist[e.checklistType][t.payload.field]=!e.checklist[e.checklistType][t.payload.field],localStorage.setItem(e.characters[e.characterIndex].name,JSON.stringify(Object(j.a)(e).checklist))},setCharIndex:function(e,t){var c=JSON.parse(localStorage.getItem(e.characters[t.payload].name));Object(g.isEmpty)(c)?(localStorage.setItem(e.characters[t.payload].name,JSON.stringify(f)),e.checklist=f):(e.checklist=c,console.log(Object(j.a)(e).checklist)),e.characterIndex=t.payload},resetDailyChecklists:function(e){e.characters.forEach((function(e){var t=f.dailyChecklist;localStorage.setItem(e.name,JSON.stringify(Object(h.a)(Object(h.a)({},f),{},{dailyChecklist:t})))}))},resetWeeklyChecklists:function(e){e.characters.forEach((function(e){var t=f.weeklyBosses,c=f.dailyChecklist;localStorage.setItem(e.name,JSON.stringify(Object(h.a)(Object(h.a)({},f),{},{weeklyBosses:t,dailyChecklist:c})))}))},setChecklistType:function(e,t){e.checklistType=t.payload},deleteCharacter:function(e,t){var c=e.characters[t.payload];localStorage.removeItem(c.name),e.characters.splice(t.payload,1),localStorage.setItem("characters",JSON.stringify(Object(j.a)(e).characters))},updateSubChecklist:function(e,t){console.log("update checklist sub"),console.log(t.payload.data,t.payload.field),e.checklist[e.checklistType][t.payload.field]=t.payload.data,localStorage.setItem(e.characters[e.characterIndex].name,JSON.stringify(Object(j.a)(e).checklist))}}}),k=O.actions,y=(k.updateChecklist,k.setCharIndex),C=k.updateCharList,v=k.addChar,w=k.updateChecklistItem,N=k.resetDailyChecklists,S=k.resetWeeklyChecklists,I=k.setChecklistType,D=k.deleteCharacter,E=k.updateSubChecklist,L=O.reducer,M=c(9),A=function(){return Object(M.b)()},B=M.c,H=function(e){var t=e.field,c=e.value,a=Object(r.useState)(!1),s=Object(u.a)(a,2),n=s[0],l=s[1],i=A();return Object(r.useEffect)((function(){l(c)}),[c]),Object(o.jsx)("div",{children:Object(o.jsxs)("label",{className:"inline-flex items-center h-8 cursor-pointer",children:[Object(o.jsx)("input",{type:"checkbox",className:"rounded text-pink-500",checked:n,onChange:function(e){l(e.target.checked),i(w({field:t}))}}),Object(o.jsx)("span",{className:"ml-2",children:t})]})},t)},J=c(11),T=function(e){var t=e.field,c=e.globalChecked,a=e.value,s=e.onChangeHandler,n=Object(r.useState)(!1),l=Object(u.a)(n,2),i=l[0],d=l[1];return Object(r.useEffect)((function(){d(c)}),[c]),Object(r.useEffect)((function(){d(a)}),[a]),Object(o.jsx)("div",{children:Object(o.jsxs)("label",{className:"inline-flex items-center h-8 cursor-pointer",children:[Object(o.jsx)("input",{type:"checkbox",className:"rounded text-pink-500",checked:i,onChange:function(e){console.log(e.target.checked),d(e.target.checked),s(t,e.target.checked)}}),Object(o.jsx)("span",{className:"ml-2",children:t})]})})},P=function(e){var t=e.checklist,c=e.label,a=Object(r.useState)(!1),s=Object(u.a)(a,2),n=s[0],l=s[1],i=A(),d=function(e,a){console.log("On change: ",e,a),i(E({field:c,data:Object(h.a)(Object(h.a)({},t),{},Object(J.a)({},e,a))}))};return Object(o.jsxs)("div",{children:[Object(o.jsxs)("label",{className:"inline-flex items-center h-8 cursor-pointer",children:[Object(o.jsx)("input",{type:"checkbox",className:"rounded text-pink-500",checked:n,onChange:function(e){var a;l(e.target.checked),a=e.target.checked,console.log("Change all"),i(E({field:c,data:Object(g.mapValues)(t,(function(){return a}))}))}}),Object(o.jsx)("span",{className:"ml-2",children:c})]}),Object(o.jsx)("div",{className:"ml-10",children:Object.entries(t).map((function(e){var t=Object(u.a)(e,2),c=t[0],a=t[1];return"boolean"===typeof a?Object(r.createElement)(T,{field:c,value:a,globalChecked:n,onChangeHandler:d,key:c}):void 0}))})]})},R=function(e){var t=e.checklist;return Object(o.jsx)("div",{className:"container w-full flex flex-col text-lg",children:Object.entries(t).map((function(e){var t=Object(u.a)(e,2),c=t[0],a=t[1];return"boolean"!==typeof a?Object(o.jsx)(P,{label:c,checklist:a},c):Object(r.createElement)(H,{field:c,value:a,key:c})}))})},V=function(){var e=B((function(e){return e.checklist})).dailyChecklist;return Object(o.jsx)("div",{children:Object(o.jsx)(R,{checklist:e})})},W=function(){var e=B((function(e){return e.checklist})).weeklyBosses;return Object(o.jsx)("div",{children:Object(o.jsx)(R,{checklist:e})})},z=c(18),G=c(19).a.div(m||(m=Object(z.a)(["\n    display: flex;\n    position: relative;\n    flex-direction: column; \n    width: 60%;\n    left: 50%;\n    transform: translate(-50%, 0%);\n"]))),Q=function(e){var t=e.setDialogOpen,c=(e.setIsLoading,e.setIsError,e.setErrorMsg,Object(r.useState)("")),a=Object(u.a)(c,2),n=a[0],l=a[1],i=Object(r.useState)(s.magician),d=Object(u.a)(i,2),h=d[0],b=d[1],j=Object(r.useState)(0),f=Object(u.a)(j,2),g=f[0],m=f[1],p=A();return Object(o.jsxs)(G,{children:[Object(o.jsxs)("label",{className:"block",children:[Object(o.jsx)("span",{children:"Name"}),Object(o.jsx)("input",{type:"text",maxLength:12,onChange:function(e){l(e.target.value)},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"})]}),Object(o.jsxs)("label",{className:"block",children:[Object(o.jsx)("span",{children:"Class"}),Object(o.jsx)("select",{onChange:function(e){b(s[e.target.value])},className:"block w-full mt-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",children:Object.keys(s).map((function(e){return Object(o.jsx)("option",{children:e})}))})]}),Object(o.jsxs)("label",{className:"block",children:[Object(o.jsx)("span",{children:"Number"}),Object(o.jsx)("input",{type:"number",max:300,min:0,onChange:function(e){var t=parseInt(e.target.value);m(t>300||t<0?0:t)},value:g,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"})]}),Object(o.jsx)("button",{onClick:function(){p(v({name:n,level:g,class:h})),t(!1)},className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full my-5",children:"Add"})]})},Z=function(e){e.setIsLoading,e.setIsError,e.setErrorMsg;var t=e.onConfirm,c=e.confirmMessage;return Object(o.jsxs)("div",{className:"flex flex-col relative px-12 h-full content-center",children:[Object(o.jsx)("p",{className:"text-2xl self-center text-center",children:c}),Object(o.jsx)("button",{onClick:t,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full my-5 cursor-pointer",children:"Confirm"})]})};!function(e){e[e.deleteCharacter=0]="deleteCharacter",e[e.addCharacter=1]="addCharacter",e[e.deleteStorage=2]="deleteStorage"}(p||(p={}));var F=function(e){var t=e.setDialogOpen,c=e.type,a=Object(r.useState)("Dialog"),s=Object(u.a)(a,2),n=s[0],l=s[1],i=Object(r.useState)(!1),d=Object(u.a)(i,2),h=(d[0],d[1]),b=Object(r.useState)(""),j=Object(u.a)(b,2),f=(j[0],j[1]),g=Object(r.useState)(!1),m=Object(u.a)(g,2),x=(m[0],m[1]),O=B((function(e){return e.characterIndex})),k=A();Object(r.useEffect)((function(){switch(c){case p.addCharacter:l("Add Character");break;case p.deleteCharacter|p.deleteStorage:l("Confirm Action")}}),[c]);return Object(o.jsx)("div",{className:"fixed h-full w-screen z-50 inset-0 bg-gray-300 bg-opacity-75 flex justify-center items-center",children:Object(o.jsxs)("span",{className:"relative inset-0 flex flex-col bg-white max-w-1/2 min-w-1/4 max-h-full rounded-lg text-black",children:[Object(o.jsx)("p",{className:"underline text-center h-18 text-2xl font-bold p-5",children:n}),Object(o.jsx)("img",{onClick:function(){return t(!1)},src:"".concat("/maplestorychecklist","/exit.svg"),className:"absolute top-0 right-0 h-4 w-4 m-3 hover:bg-blue-200",alt:"exit"}),function(){switch(c){case p.addCharacter:return Object(o.jsx)(Q,{setDialogOpen:t,setIsError:h,setErrorMsg:f,setIsLoading:x});case p.deleteCharacter:return Object(o.jsx)(Z,{setIsError:h,setErrorMsg:f,setIsLoading:x,confirmMessage:"Are you sure you want to delete this character?",onConfirm:function(){k(D(O)),t(!1)}});case p.deleteStorage:return Object(o.jsx)(Z,{setIsError:h,setErrorMsg:f,setIsLoading:x,confirmMessage:"Are you sure you want to wipe your character data?",onConfirm:function(){localStorage.clear(),t(!1),window.location.reload()}})}}()]})})},U=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),c=t[0],a=t[1],s=Object(r.useState)(p.deleteCharacter),n=Object(u.a)(s,2),l=n[0],i=n[1];return{toggleDialog:function(e){a(!c),i(e)},renderDialog:function(){return c&&Object(o.jsx)(F,{setDialogOpen:a,type:l})}}},X=function(){var e=A(),t=U(),c=t.renderDialog,s=t.toggleDialog;return Object(o.jsxs)("div",{className:"sticky top-0 z-30 h-14 px-36 flex-1 min-w-full flex items-center container bg-purple-500 text-white",children:[c(),Object(o.jsx)("img",{src:"".concat("/maplestorychecklist","/maplestory-icon.png"),alt:"Icon",width:32}),Object(o.jsx)("p",{className:"text-xl",children:"Maplelist"}),Object(o.jsx)("div",{onClick:function(){e(I(a.dailyChecklist))},className:"bg-purple-500 hover:bg-purple-700 text-white px-3 py-2 rounded-md text-lg ml-20 cursor-pointer",children:"Dailies"}),Object(o.jsx)("div",{onClick:function(){e(I(a.weeklyBosses))},className:"bg-purple-500 hover:bg-purple-700 text-white px-3 py-2 rounded-md text-lg ml-5 cursor-pointer",children:"Weeklies"}),Object(o.jsx)("div",{onClick:function(){e(I(a.shiftChecklist))},className:"bg-purple-500 hover:bg-purple-700 text-white px-3 py-2 rounded-md text-lg ml-5 cursor-pointer",children:"Shift"}),Object(o.jsx)("div",{onClick:function(){s(p.deleteStorage)},className:"bg-purple-500 hover:bg-purple-700 text-white px-3 py-2 rounded-md text-lg ml-5 cursor-pointer",children:"Clear Character Data"})]})},Y=function(e){var t=e.className,c=e.level,a=e.name,r=e.index,n=e.selected,l=e.toggleDialog,i=A();return Object(o.jsxs)("div",{className:"relative cursor-pointer border-blue-400 border rounded-lg flex items-center ".concat(n?"text-white bg-blue-400":""),onClick:function(){return i(y(r))},children:[Object(o.jsx)("img",{className:" w-12 h-12 m-2 rounded-full ring-1 blue-500",src:"".concat("/maplestorychecklist","/").concat(s[t],".svg"),alt:"".concat(s[t])}),Object(o.jsxs)("div",{className:"pr-2",children:[Object(o.jsx)("p",{children:a}),Object(o.jsx)("p",{children:c})]}),Object(o.jsx)("img",{onClick:function(){l(p.deleteCharacter)},src:"".concat("/maplestorychecklist","/exit.svg"),className:"absolute top-0 right-0 h-2 w-2 m-1 hover:bg-blue-200 ".concat(""),alt:"exit"})]})},q=function(){var e=B((function(e){return e.characters})),t=B((function(e){return e.characterIndex})),c=A(),a=U(),s=a.renderDialog,n=a.toggleDialog;return Object(r.useEffect)((function(){!function(){var e=new Date,t=localStorage.getItem("lastVisited");console.log(e.getHours()),t&&e.getHours()>19&&new Date(t)<e&&new Date(t).getHours()<19?(console.log("Daily check passed"),0===e.getDay()?(console.log("week check passed"),c(S())):(console.log("weeklycheck failed"),c(N()))):c(N()),localStorage.setItem("lastVisited",e.toISOString())}();var e=localStorage.getItem("characters");Object(g.isEmpty)(e)||c(C(JSON.parse(e.toString())))}),[]),Object(o.jsxs)("div",{className:"grid grid-rows-1 grid-cols-2",children:[s(),Object(o.jsx)("div",{className:"flex items-center py-5 gap-x-4",children:e&&e.map((function(e,c){return Object(r.createElement)(Y,{index:c,name:e.name,className:e.class,level:e.level,selected:c===t,toggleDialog:n,key:e.name})}))}),Object(o.jsx)("button",{onClick:function(){n(p.addCharacter)},className:"col-start-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full my-5 w-40 place-self-end self-start",children:"Add Character"})]})},K=function(){var e=B((function(e){return e.checklist})).shiftChecklist;return Object(o.jsx)("div",{children:Object(o.jsx)(R,{checklist:e})})},$=function(){var e=B((function(e){return e.checklistType}));return Object(o.jsxs)("div",{children:[Object(o.jsx)(X,{}),Object(o.jsxs)("div",{className:"lg:z-50 max-w-8xl px-36 container min-w-full h-screen",children:[Object(o.jsx)(q,{}),function(){switch(e){case a.dailyChecklist:return Object(o.jsx)(V,{});case a.weeklyBosses:return Object(o.jsx)(W,{});case a.shiftChecklist:return Object(o.jsx)(K,{});default:return Object(o.jsx)(d,{})}}()]})]})},_=Object(b.a)({reducer:L});var ee=function(){return Object(o.jsx)("div",{children:Object(o.jsx)(M.a,{store:_,children:Object(o.jsx)($,{})})})};c(35);i.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(ee,{})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.0319f3ed.chunk.js.map