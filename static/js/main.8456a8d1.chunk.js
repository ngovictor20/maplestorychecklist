(this["webpackJsonpmaplestory-checklist"]=this["webpackJsonpmaplestory-checklist"]||[]).push([[0],{34:function(e,t,c){},35:function(e,t,c){"use strict";c.r(t);var a,r,s=c(0),l=c.n(s),n=c(9),i=c.n(n),o=c(1),d=function(){return Object(o.jsx)("div",{className:"text-center",children:Object(o.jsx)("h1",{className:"text-4xl",children:"Add a Character!"})})},u=c(2),h=c(8),b=c(11),j=c(3),g={dailyChecklist:{"Arcane Dailies":!1,Ursus:!1,"Maple Tour":!1,"Monster Park":!1,"Yu Garden":!1,Gollux:!1,"Legion Quest":!1,Bosses:!1,"Commerci PQ":!1,"Commerci Solo":!1},shiftChecklist:{WAP:!1,"2x":!1,Legion:!1,Familiars:!1,"Drop/Meso Gear":!1,"Wild Totem":!1,"Additional EXP Shit":!1,"Link Skill Review":!1,"Legion Board Review":!1,Pets:!1},weeklyBosses:{HMag:!1,CZak:!1,HHila:!1,CBean:!1,CRA:!1,CPap:!1,"Princess No":!1,Akechi:!1,Lotus:!1,Damien:!1,Lucid:!1,VHila:!1}},f=c(10);!function(e){e.dailyChecklist="dailyChecklist",e.weeklyBosses="weeklyBosses",e.shiftChecklist="shiftChecklist"}(a||(a={})),function(e){e.magician="magician",e.thief="thief",e.warrior="warrior",e.bowman="bowman",e.pirate="pirate"}(r||(r={}));var m,x,p={checklist:{dailyChecklist:{},shiftChecklist:{},weeklyBosses:{}},characters:[],characterIndex:0,checklistType:a.dailyChecklist},O=Object(b.b)({name:"state",initialState:p,reducers:{updateChecklist:function(e,t){e.checklist=t.payload},updateCharList:function(e,t){e.characters=t.payload},addChar:function(e,t){e.characters.push(t.payload),console.log(Object(j.a)(e).characters),localStorage.setItem("characters",JSON.stringify(Object(j.a)(e).characters))},updateChecklistItem:function(e,t){e.checklist[e.checklistType][t.payload.field]=!e.checklist[e.checklistType][t.payload.field],localStorage.setItem(e.characters[e.characterIndex].name,JSON.stringify(Object(j.a)(e).checklist))},setCharIndex:function(e,t){var c=JSON.parse(localStorage.getItem(e.characters[t.payload].name));Object(f.isEmpty)(c)?(localStorage.setItem(e.characters[t.payload].name,JSON.stringify(g)),e.checklist=g):(e.checklist=c,console.log(Object(j.a)(e).checklist)),e.characterIndex=t.payload},resetDailyChecklists:function(e){e.characters.forEach((function(e){var t=g.dailyChecklist;localStorage.setItem(e.name,JSON.stringify(Object(h.a)(Object(h.a)({},g),{},{dailyChecklist:t})))}))},resetWeeklyChecklists:function(e){e.characters.forEach((function(e){var t=g.weeklyBosses,c=g.dailyChecklist;localStorage.setItem(e.name,JSON.stringify(Object(h.a)(Object(h.a)({},g),{},{weeklyBosses:t,dailyChecklist:c})))}))},setChecklistType:function(e,t){e.checklistType=t.payload},deleteCharacter:function(e,t){var c=e.characters[t.payload];localStorage.removeItem(c.name),e.characters.splice(t.payload,1),localStorage.setItem("characters",JSON.stringify(Object(j.a)(e).characters))}}}),k=O.actions,y=(k.updateChecklist,k.setCharIndex),C=k.updateCharList,v=k.addChar,w=k.updateChecklistItem,N=k.resetDailyChecklists,S=k.resetWeeklyChecklists,I=k.setChecklistType,D=k.deleteCharacter,E=O.reducer,L=c(7),M=function(){return Object(L.b)()},B=L.c,A=function(e){var t=e.field,c=e.value,a=Object(s.useState)(!1),r=Object(u.a)(a,2),l=r[0],n=r[1],i=M();return Object(s.useEffect)((function(){n(c)}),[c]),Object(o.jsx)("div",{children:Object(o.jsxs)("label",{className:"inline-flex items-center h-8 cursor-pointer",children:[Object(o.jsx)("input",{type:"checkbox",className:"rounded text-pink-500",checked:l,onChange:function(e){n(e.target.checked),i(w({field:t}))}}),Object(o.jsx)("span",{className:"ml-2",children:t})]})},t)},J=function(e){var t=e.checklist;return Object(o.jsx)("div",{className:"container w-full flex flex-col text-lg",children:Object.entries(t).map((function(e){var t=Object(u.a)(e,2),c=t[0],a=t[1];return Object(s.createElement)(A,{field:c,value:a,key:c})}))})},T=function(){var e=B((function(e){return e.checklist})).dailyChecklist;return Object(o.jsx)("div",{children:Object(o.jsx)(J,{checklist:e})})},H=function(){var e=B((function(e){return e.checklist})).weeklyBosses;return Object(o.jsx)("div",{children:Object(o.jsx)(J,{checklist:e})})},P=c(17),W=c(18).a.div(m||(m=Object(P.a)(["\n    display: flex;\n    position: relative;\n    flex-direction: column; \n    width: 60%;\n    left: 50%;\n    transform: translate(-50%, 0%);\n"]))),z=function(e){var t=e.setDialogOpen,c=(e.setIsLoading,e.setIsError,e.setErrorMsg,Object(s.useState)("")),a=Object(u.a)(c,2),l=a[0],n=a[1],i=Object(s.useState)(r.magician),d=Object(u.a)(i,2),h=d[0],b=d[1],j=Object(s.useState)(0),g=Object(u.a)(j,2),f=g[0],m=g[1],x=M();return Object(o.jsxs)(W,{children:[Object(o.jsxs)("label",{className:"block",children:[Object(o.jsx)("span",{children:"Name"}),Object(o.jsx)("input",{type:"text",maxLength:12,onChange:function(e){n(e.target.value)},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"})]}),Object(o.jsxs)("label",{className:"block",children:[Object(o.jsx)("span",{children:"Class"}),Object(o.jsx)("select",{onChange:function(e){b(r[e.target.value])},className:"block w-full mt-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",children:Object.keys(r).map((function(e){return Object(o.jsx)("option",{children:e})}))})]}),Object(o.jsxs)("label",{className:"block",children:[Object(o.jsx)("span",{children:"Number"}),Object(o.jsx)("input",{type:"number",max:300,min:0,onChange:function(e){var t=parseInt(e.target.value);m(t>300||t<0?0:t)},value:f,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"})]}),Object(o.jsx)("button",{onClick:function(){x(v({name:l,level:f,class:h})),t(!1)},className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full my-5",children:"Add"})]})},G=function(e){e.setIsLoading,e.setIsError,e.setErrorMsg;var t=e.onConfirm,c=e.confirmMessage;return Object(o.jsxs)("div",{className:"flex flex-col relative px-12 h-full content-center",children:[Object(o.jsx)("p",{className:"text-2xl self-center text-center",children:c}),Object(o.jsx)("button",{onClick:t,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full my-5 cursor-pointer",children:"Confirm"})]})};!function(e){e[e.deleteCharacter=0]="deleteCharacter",e[e.addCharacter=1]="addCharacter",e[e.deleteStorage=2]="deleteStorage"}(x||(x={}));var Q=function(e){var t=e.setDialogOpen,c=e.type,a=Object(s.useState)("Dialog"),r=Object(u.a)(a,2),l=r[0],n=r[1],i=Object(s.useState)(!1),d=Object(u.a)(i,2),h=(d[0],d[1]),b=Object(s.useState)(""),j=Object(u.a)(b,2),g=(j[0],j[1]),f=Object(s.useState)(!1),m=Object(u.a)(f,2),p=(m[0],m[1]),O=B((function(e){return e.characterIndex})),k=M();Object(s.useEffect)((function(){switch(c){case x.addCharacter:n("Add Character");break;case x.deleteCharacter|x.deleteStorage:n("Confirm Action")}}),[c]);return Object(o.jsx)("div",{className:"fixed h-full w-screen z-50 inset-0 bg-gray-300 bg-opacity-75 flex justify-center items-center",children:Object(o.jsxs)("span",{className:"relative inset-0 flex flex-col bg-white max-w-1/2 min-w-1/4 max-h-full rounded-lg text-black",children:[Object(o.jsx)("p",{className:"underline text-center h-18 text-2xl font-bold p-5",children:l}),Object(o.jsx)("img",{onClick:function(){return t(!1)},src:"".concat("/maplestorychecklist","/exit.svg"),className:"absolute top-0 right-0 h-4 w-4 m-3 hover:bg-blue-200",alt:"exit"}),function(){switch(c){case x.addCharacter:return Object(o.jsx)(z,{setDialogOpen:t,setIsError:h,setErrorMsg:g,setIsLoading:p});case x.deleteCharacter:return Object(o.jsx)(G,{setIsError:h,setErrorMsg:g,setIsLoading:p,confirmMessage:"Are you sure you want to delete this character?",onConfirm:function(){k(D(O)),t(!1)}});case x.deleteStorage:return Object(o.jsx)(G,{setIsError:h,setErrorMsg:g,setIsLoading:p,confirmMessage:"Are you sure you want to wipe your character data?",onConfirm:function(){localStorage.clear(),t(!1),window.location.reload()}})}}()]})})},R=function(){var e=Object(s.useState)(!1),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(s.useState)(x.deleteCharacter),l=Object(u.a)(r,2),n=l[0],i=l[1];return{toggleDialog:function(e){a(!c),i(e)},renderDialog:function(){return c&&Object(o.jsx)(Q,{setDialogOpen:a,type:n})}}},V=function(){var e=M(),t=R(),c=t.renderDialog,r=t.toggleDialog;return Object(o.jsxs)("div",{className:"sticky top-0 z-30 h-14 px-36 flex-1 min-w-full flex items-center container bg-purple-500 text-white",children:[c(),Object(o.jsx)("img",{src:"".concat("/maplestorychecklist","/maplestory-icon.png"),alt:"Icon",width:32}),Object(o.jsx)("p",{className:"text-xl",children:"Maplelist"}),Object(o.jsx)("div",{onClick:function(){e(I(a.dailyChecklist))},className:"bg-purple-500 hover:bg-purple-700 text-white px-3 py-2 rounded-md text-lg ml-20 cursor-pointer",children:"Dailies"}),Object(o.jsx)("div",{onClick:function(){e(I(a.weeklyBosses))},className:"bg-purple-500 hover:bg-purple-700 text-white px-3 py-2 rounded-md text-lg ml-5 cursor-pointer",children:"Weeklies"}),Object(o.jsx)("div",{onClick:function(){e(I(a.shiftChecklist))},className:"bg-purple-500 hover:bg-purple-700 text-white px-3 py-2 rounded-md text-lg ml-5 cursor-pointer",children:"Quiche"}),Object(o.jsx)("div",{onClick:function(){r(x.deleteStorage)},className:"bg-purple-500 hover:bg-purple-700 text-white px-3 py-2 rounded-md text-lg ml-5 cursor-pointer",children:"Clear Character Data"})]})},F=function(e){var t=e.className,c=e.level,a=e.name,s=e.index,l=e.selected,n=e.toggleDialog,i=M();return Object(o.jsxs)("div",{className:"relative cursor-pointer border-blue-400 border rounded-lg flex items-center ".concat(l?"text-white bg-blue-400":""),onClick:function(){return i(y(s))},children:[Object(o.jsx)("img",{className:" w-12 h-12 m-2 rounded-full ring-1 blue-500",src:"".concat("/maplestorychecklist","/").concat(r[t],".svg"),alt:"".concat(r[t])}),Object(o.jsxs)("div",{className:"pr-2",children:[Object(o.jsx)("p",{children:a}),Object(o.jsx)("p",{children:c})]}),Object(o.jsx)("img",{onClick:function(){n(x.deleteCharacter)},src:"".concat("/maplestorychecklist","/exit.svg"),className:"absolute top-0 right-0 h-2 w-2 m-1 hover:bg-blue-200 ".concat(""),alt:"exit"})]})},U=function(){var e=B((function(e){return e.characters})),t=B((function(e){return e.characterIndex})),c=M(),a=R(),r=a.renderDialog,l=a.toggleDialog;return Object(s.useEffect)((function(){!function(){var e=new Date,t=localStorage.getItem("lastVisited");console.log(e.getHours()),t&&e.getHours()>19&&new Date(t)<e&&new Date(t).getHours()<19?(console.log("Daily check passed"),0===e.getDay()?(console.log("week check passed"),c(S())):(console.log("weeklycheck failed"),c(N()))):c(N()),localStorage.setItem("lastVisited",e.toISOString())}();var e=localStorage.getItem("characters");Object(f.isEmpty)(e)||c(C(JSON.parse(e.toString())))}),[]),Object(o.jsxs)("div",{className:"grid grid-rows-1 grid-cols-2",children:[r(),Object(o.jsx)("div",{className:"flex items-center py-5 gap-x-4",children:e&&e.map((function(e,c){return Object(s.createElement)(F,{index:c,name:e.name,className:e.class,level:e.level,selected:c===t,toggleDialog:l,key:e.name})}))}),Object(o.jsx)("button",{onClick:function(){l(x.addCharacter)},className:"col-start-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full my-5 w-40 place-self-end self-start",children:"Add Character"})]})},X=function(){var e=B((function(e){return e.checklist})).shiftChecklist;return Object(o.jsx)("div",{children:Object(o.jsx)(J,{checklist:e})})},Y=function(){var e=B((function(e){return e.checklistType}));return Object(o.jsxs)("div",{children:[Object(o.jsx)(V,{}),Object(o.jsxs)("div",{className:"lg:z-50 max-w-8xl px-36 container min-w-full h-screen",children:[Object(o.jsx)(U,{}),function(){switch(e){case a.dailyChecklist:return Object(o.jsx)(T,{});case a.weeklyBosses:return Object(o.jsx)(H,{});case a.shiftChecklist:return Object(o.jsx)(X,{});default:return Object(o.jsx)(d,{})}}()]})]})},Z=Object(b.a)({reducer:E});var q=function(){return Object(o.jsx)("div",{children:Object(o.jsx)(L.a,{store:Z,children:Object(o.jsx)(Y,{})})})};c(34);i.a.render(Object(o.jsx)(l.a.StrictMode,{children:Object(o.jsx)(q,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.8456a8d1.chunk.js.map