(this["webpackJsonpmaplestory-checklist"]=this["webpackJsonpmaplestory-checklist"]||[]).push([[0],{460:function(e,t,c){},461:function(e,t,c){"use strict";c.r(t);var a,r,s=c(3),n=c.n(s),l=c(39),i=c.n(l),o=c(29),d=function(){return Object(o.b)()},u=o.c,h=c(13),b=c(42),j=c(7),g={dailyChecklist:{"Arcane Dailies":!1,Ursus:!1,"Maple Tour":!1,"Monster Park":!1,"Yu Garden":!1,Gollux:!1,"Legion Quest":!1,Bosses:{Zakum:!1,Horntail:!1,Hila:!1,"Root Abyss":!1,"Von Leon":!1,Arkarium:!1,Magnus:!1,"Pink Bean":!1,Ranmaru:!1},Commerci:{"Commerci PQ":!1,"Commerci Solo":!1}},shiftChecklist:{"Wealth Acquisition Potion":!1,"2x EXP":!1,Legion:!1,Familiars:!1,"Drop/Meso Gear":!1,"Wild Totem":!1,"Additional EXP Shit":!1,"Link Skill Review":!1,"Legion Board Review":!1,Pets:!1},weeklyBosses:{"Hard Magnus":!1,"Chaos Zakum":!1,"Hard Hila":!1,"Chao Pink Bean":!1,"Chaos Root Abyss":{"Chaos Queen":!1,"Chaos Von Bon":!1,"Chaos Pierre":!1,"Chaos Vellum":!1},"Chaos Papulatus":!1,"Princess No":!1,Akechi:!1,Lotus:!1,Damien:!1,Lucid:!1,"Verus Hila":!1}};!function(e){e.dailyChecklist="dailyChecklist",e.weeklyBosses="weeklyBosses",e.shiftChecklist="shiftChecklist"}(a||(a={})),function(e){e.magician="magician",e.thief="thief",e.warrior="warrior",e.bowman="bowman",e.pirate="pirate"}(r||(r={}));var m,f,p=c(22),x={checklist:{dailyChecklist:{},shiftChecklist:{},weeklyBosses:{}},characters:[],characterIndex:0,checklistType:a.dailyChecklist},O=Object(b.b)({name:"state",initialState:x,reducers:{updateChecklist:function(e,t){e.checklist=t.payload},updateCharList:function(e,t){e.characters=t.payload},setChecklistType:function(e,t){e.checklistType=t.payload},addChar:function(e,t){e.characters.push(t.payload),localStorage.setItem("characters",JSON.stringify(Object(j.a)(e).characters))},updateChecklistItem:function(e,t){var c=t.payload.field,a=e.checklistType,r=e.characters,s=e.checklist,n=e.characterIndex;e.checklist[a][c]=!s[a][c],localStorage.setItem(r[n].name,JSON.stringify(Object(j.a)(e).checklist))},setCharIndex:function(e,t){var c=e.characters[t.payload].name;e.checklist=function(e){var t=JSON.parse(localStorage.getItem(e));return Object(p.isEmpty)(t)?(localStorage.setItem(e,JSON.stringify(g)),g):t}(c),e.characterIndex=t.payload},resetDailyChecklists:function(e){e.characters.forEach((function(e){localStorage.setItem(e.name,JSON.stringify(Object(h.a)(Object(h.a)({},g),{},{dailyChecklist:g.dailyChecklist})))}))},resetWeeklyChecklists:function(e){e.characters.forEach((function(e){var t=g.weeklyBosses,c=g.dailyChecklist;localStorage.setItem(e.name,JSON.stringify(Object(h.a)(Object(h.a)({},g),{},{weeklyBosses:t,dailyChecklist:c})))}))},deleteCharacter:function(e,t){var c=e.characters[t.payload].name;localStorage.removeItem(c),e.characters.splice(t.payload,1),localStorage.setItem("characters",JSON.stringify(Object(j.a)(e).characters))},updateSubChecklist:function(e,t){e.checklist[e.checklistType][t.payload.field]=t.payload.data,localStorage.setItem(e.characters[e.characterIndex].name,JSON.stringify(Object(j.a)(e).checklist))}}}),k=O.actions,y=(k.updateChecklist,k.setCharIndex),C=k.updateCharList,v=k.addChar,w=k.updateChecklistItem,N=k.resetDailyChecklists,S=k.resetWeeklyChecklists,I=k.setChecklistType,E=k.deleteCharacter,D=k.updateSubChecklist,A=function(e){return e.checklist},L=function(e){return e.checklistType},M=function(e){return e.characters},B=function(e){return e.characterIndex},J=O.reducer,P=c(6),T=c(129),H=c(130),V=c(4),R=H.a.div(m||(m=Object(T.a)(["\n    display: flex;\n    position: relative;\n    flex-direction: column; \n    width: 60%;\n    left: 50%;\n    transform: translate(-50%, 0%);\n"]))),W=function(e){var t=e.setDialogOpen,c=(e.setIsLoading,e.setIsError,e.setErrorMsg,Object(s.useState)("")),a=Object(P.a)(c,2),n=a[0],l=a[1],i=Object(s.useState)(r.magician),o=Object(P.a)(i,2),u=o[0],h=o[1],b=Object(s.useState)(0),j=Object(P.a)(b,2),g=j[0],m=j[1],f=d();return Object(V.jsxs)(R,{children:[Object(V.jsxs)("label",{className:"block",children:[Object(V.jsx)("span",{children:"Name"}),Object(V.jsx)("input",{type:"text",maxLength:12,onChange:function(e){l(e.target.value)},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"})]}),Object(V.jsxs)("label",{className:"block",children:[Object(V.jsx)("span",{children:"Class"}),Object(V.jsx)("select",{onChange:function(e){h(r[e.target.value])},className:"block w-full mt-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",children:Object.keys(r).map((function(e){return Object(V.jsx)("option",{children:e})}))})]}),Object(V.jsxs)("label",{className:"block",children:[Object(V.jsx)("span",{children:"Number"}),Object(V.jsx)("input",{type:"number",max:300,min:0,onChange:function(e){var t=parseInt(e.target.value);m(t>300||t<0?0:t)},value:g,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"})]}),Object(V.jsx)("button",{onClick:function(){f(v({name:n,level:g,class:u})),t(!1)},className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full my-5",children:"Add"})]})},z=function(e){e.setIsLoading,e.setIsError,e.setErrorMsg;var t=e.onConfirm,c=e.confirmMessage;return Object(V.jsxs)("div",{className:"flex flex-col relative px-12 h-full content-center",children:[Object(V.jsx)("p",{className:"text-2xl self-center text-center",children:c}),Object(V.jsx)("button",{onClick:t,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full my-5 cursor-pointer",children:"Confirm"})]})};!function(e){e[e.deleteCharacter=0]="deleteCharacter",e[e.addCharacter=1]="addCharacter",e[e.deleteStorage=2]="deleteStorage"}(f||(f={}));var G=function(e){var t=e.setDialogOpen,c=e.type,a=Object(s.useState)("Dialog"),r=Object(P.a)(a,2),n=r[0],l=r[1],i=Object(s.useState)(!1),o=Object(P.a)(i,2),h=(o[0],o[1]),b=Object(s.useState)(""),j=Object(P.a)(b,2),g=(j[0],j[1]),m=Object(s.useState)(!1),p=Object(P.a)(m,2),x=(p[0],p[1]),O=u((function(e){return e.characterIndex})),k=d();Object(s.useEffect)((function(){switch(c){case f.addCharacter:l("Add Character");break;case f.deleteCharacter|f.deleteStorage:l("Confirm Action")}}),[c]);return Object(V.jsx)("div",{className:"fixed h-full w-screen z-50 inset-0 bg-gray-300 bg-opacity-75 flex justify-center items-center",children:Object(V.jsxs)("span",{className:"relative inset-0 flex flex-col bg-white max-w-1/2 min-w-1/4 max-h-full rounded-lg text-black",children:[Object(V.jsx)("p",{className:"underline text-center h-18 text-2xl font-bold p-5",children:n}),Object(V.jsx)("img",{onClick:function(){return t(!1)},src:"".concat("/maplestorychecklist","/exit.svg"),className:"absolute top-0 right-0 h-4 w-4 m-3 hover:bg-blue-200",alt:"exit"}),function(){switch(c){case f.addCharacter:return Object(V.jsx)(W,{setDialogOpen:t,setIsError:h,setErrorMsg:g,setIsLoading:x});case f.deleteCharacter:return Object(V.jsx)(z,{setIsError:h,setErrorMsg:g,setIsLoading:x,confirmMessage:"Are you sure you want to delete this character?",onConfirm:function(){k(E(O)),t(!1)}});case f.deleteStorage:return Object(V.jsx)(z,{setIsError:h,setErrorMsg:g,setIsLoading:x,confirmMessage:"Are you sure you want to wipe your character data?",onConfirm:function(){localStorage.clear(),t(!1),window.location.reload()}})}}()]})})},Q=function(){var e=Object(s.useState)(!1),t=Object(P.a)(e,2),c=t[0],a=t[1],r=Object(s.useState)(f.deleteCharacter),n=Object(P.a)(r,2),l=n[0],i=n[1];return{toggleDialog:function(e){a(!c),i(e)},renderDialog:function(){return c&&Object(V.jsx)(G,{setDialogOpen:a,type:l})}}},Y=function(){var e=d(),t=Q(),c=t.renderDialog,r=t.toggleDialog;return Object(V.jsxs)("div",{className:"sticky top-0 z-30 h-14 px-36 flex-1 min-w-full flex items-center container bg-purple-500 text-white",children:[c(),Object(V.jsx)("img",{src:"".concat("/maplestorychecklist","/maplestory-icon.png"),alt:"Icon",className:"w-7 h-7"}),Object(V.jsx)("p",{className:"text-xl",children:"Maplelist"}),Object(V.jsx)("div",{onClick:function(){e(I(a.dailyChecklist))},className:"bg-purple-500 hover:bg-purple-700 text-white px-3 py-2 rounded-md text-lg ml-20 cursor-pointer",children:"Dailies"}),Object(V.jsx)("div",{onClick:function(){e(I(a.weeklyBosses))},className:"bg-purple-500 hover:bg-purple-700 text-white px-3 py-2 rounded-md text-lg ml-5 cursor-pointer",children:"Weeklies"}),Object(V.jsx)("div",{onClick:function(){e(I(a.shiftChecklist))},className:"bg-purple-500 hover:bg-purple-700 text-white px-3 py-2 rounded-md text-lg ml-5 cursor-pointer",children:"Shift"}),Object(V.jsx)("div",{onClick:function(){r(f.deleteStorage)},className:"bg-purple-500 hover:bg-purple-700 text-white px-3 py-2 rounded-md text-lg ml-5 cursor-pointer",children:"Clear Character Data"})]})},X=function(e){var t=e.className,c=e.level,a=e.name,s=e.index,n=e.selected,l=e.toggleDialog,i=d();return Object(V.jsxs)("div",{className:"relative cursor-pointer border-blue-400 border rounded-lg flex items-center ".concat(n?"text-white bg-blue-400":""),onClick:function(){return i(y(s))},children:[Object(V.jsx)("img",{className:" w-12 h-12 m-2 rounded-full ring-1 blue-500",src:"".concat("/maplestorychecklist","/").concat(r[t],".svg"),alt:"".concat(r[t])}),Object(V.jsxs)("div",{className:"pr-2",children:[Object(V.jsx)("p",{children:a}),Object(V.jsx)("p",{children:c})]}),Object(V.jsx)("img",{onClick:function(){l(f.deleteCharacter)},src:"".concat("/maplestorychecklist","/exit.svg"),className:"absolute top-0 right-0 h-2 w-2 m-1 hover:bg-blue-200 ".concat(""),alt:"exit"})]})},Z=c(467),_=c(464),q=c(465),F=c(466),U=c(134),K=function(){var e=u(M),t=u(B),c=d(),a=Q(),r=a.renderDialog,n=a.toggleDialog;return Object(s.useEffect)((function(){!function(){var e=Object(Z.a)(new Date,"America/New_York"),t=localStorage.getItem("lastVisited"),a=Object(_.a)(e,19),r=Object(Z.a)(t.toString(),"America/New_York");console.log(r),console.log(e,Object(q.a)(e)),Object(q.a)(e)>=19&&Object(U.isBefore)(r,a)&&(console.log("Checklists should reset"),Object(F.a)(e)?(c(S()),console.log("reset weekly")):(c(N()),console.log("Reset daily"))),localStorage.setItem("lastVisited",e.toISOString())}();var e=localStorage.getItem("characters");Object(p.isEmpty)(e)||c(C(JSON.parse(e.toString())))}),[]),Object(V.jsxs)("div",{className:"grid grid-rows-1 grid-cols-2",children:[r(),Object(V.jsx)("div",{className:"flex items-center py-5 gap-x-4",children:e&&e.map((function(e,c){return Object(s.createElement)(X,{index:c,name:e.name,className:e.class,level:e.level,selected:c===t,toggleDialog:n,key:e.name})}))}),Object(V.jsx)("button",{onClick:function(){n(f.addCharacter)},className:"col-start-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full my-5 w-40 place-self-end self-start",children:"Add Character"})]})},$=function(e){var t=e.field,c=e.value,a=Object(s.useState)(!1),r=Object(P.a)(a,2),n=r[0],l=r[1],i=d();return Object(s.useEffect)((function(){l(c)}),[c]),Object(V.jsx)("div",{children:Object(V.jsxs)("label",{className:"inline-flex items-center h-8 cursor-pointer",children:[Object(V.jsx)("input",{type:"checkbox",className:"rounded text-pink-500",checked:n,onChange:function(e){l(e.target.checked),i(w({field:t}))}}),Object(V.jsx)("span",{className:"ml-2",children:t})]})},t)},ee=c(40),te=function(e){var t=e.field,c=e.globalChecked,a=e.value,r=e.onChangeHandler,n=Object(s.useState)(!1),l=Object(P.a)(n,2),i=l[0],o=l[1];return Object(s.useEffect)((function(){o(c)}),[c]),Object(s.useEffect)((function(){o(a)}),[a]),Object(V.jsx)("div",{children:Object(V.jsxs)("label",{className:"inline-flex items-center h-8 cursor-pointer",children:[Object(V.jsx)("input",{type:"checkbox",className:"rounded text-pink-500",checked:i,onChange:function(e){console.log(e.target.checked),o(e.target.checked),r(t,e.target.checked)}}),Object(V.jsx)("span",{className:"ml-2",children:t})]})})},ce=function(e){var t=e.checklist,c=e.label,a=Object(s.useState)(!1),r=Object(P.a)(a,2),n=r[0],l=r[1],i=d(),o=function(e,a){console.log("On change: ",e,a),i(D({field:c,data:Object(h.a)(Object(h.a)({},t),{},Object(ee.a)({},e,a))}))};return Object(V.jsxs)("div",{children:[Object(V.jsxs)("label",{className:"inline-flex items-center h-8 cursor-pointer",children:[Object(V.jsx)("input",{type:"checkbox",className:"rounded text-pink-500",checked:n,onChange:function(e){var a;l(e.target.checked),a=e.target.checked,console.log("Change all"),i(D({field:c,data:Object(p.mapValues)(t,(function(){return a}))}))}}),Object(V.jsx)("span",{className:"ml-2",children:c})]}),Object(V.jsx)("div",{className:"ml-10",children:Object.entries(t).map((function(e){var t=Object(P.a)(e,2),c=t[0],a=t[1];return"boolean"===typeof a?Object(s.createElement)(te,{field:c,value:a,globalChecked:n,onChangeHandler:o,key:c}):void 0}))})]})},ae=function(){var e=u(L),t=u(A);return Object(V.jsx)("div",{className:"container w-full flex flex-col text-lg",children:Object.entries(t[e]).map((function(e){var t=Object(P.a)(e,2),c=t[0],a=t[1];return"boolean"!==typeof a?Object(V.jsx)(ce,{label:c,checklist:a},c):Object(s.createElement)($,{field:c,value:a,key:c})}))})},re=function(){return Object(V.jsxs)("div",{children:[Object(V.jsx)(Y,{}),Object(V.jsxs)("div",{className:"lg:z-50 max-w-8xl px-36 container min-w-full h-screen",children:[Object(V.jsx)(K,{}),Object(V.jsx)(ae,{})]})]})},se=Object(b.a)({reducer:J});var ne=function(){return Object(V.jsx)("div",{children:Object(V.jsx)(o.a,{store:se,children:Object(V.jsx)(re,{})})})};c(460);i.a.render(Object(V.jsx)(n.a.StrictMode,{children:Object(V.jsx)(ne,{})}),document.getElementById("root"))}},[[461,1,2]]]);
//# sourceMappingURL=main.70954b36.chunk.js.map