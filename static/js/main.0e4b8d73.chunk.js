(this["webpackJsonpmaplestory-checklist"]=this["webpackJsonpmaplestory-checklist"]||[]).push([[0],{39:function(e,t,c){},40:function(e,t,c){"use strict";c.r(t);var a,r,s=c(0),n=c.n(s),i=c(15),l=c.n(i),o=c(9),d=c(14),u=function(){return Object(d.b)()},h=d.c,j=c(8),b=c(17),f=c(5),m={dailyChecklist:{"Arcane Dailies":!1,Ursus:!1,"Maple Tour":!1,"Monster Park":!1,"Yu Garden":!1,Gollux:!1,"Legion Quest":!1,Bosses:{Zakum:!1,Horntail:!1,Hila:!1,"Root Abyss":!1,"Von Leon":!1,Arkarium:!1,Magnus:!1,"Pink Bean":!1,Ranmaru:!1},Commerci:{"Commerci PQ":!1,"Commerci Solo":!1}},shiftChecklist:{"Wealth Acquisition Potion":!1,"2x EXP":!1,Legion:!1,Familiars:!1,"Drop/Meso Gear":!1,"Wild Totem":!1,"Additional EXP Shit":!1,"Link Skill Review":!1,"Legion Board Review":!1,Pets:!1},weeklyBosses:{"Hard Magnus":!1,"Chaos Zakum":!1,"Hard Hila":!1,"Chao Pink Bean":!1,"Chaos Root Abyss":{"Chaos Queen":!1,"Chaos Von Bon":!1,"Chaos Pierre":!1,"Chaos Vellum":!1},"Chaos Papulatus":!1,"Princess No":!1,Akechi:!1,Lotus:!1,Damien:!1,Lucid:!1,"Verus Hila":!1}};!function(e){e.dailyChecklist="dailyChecklist",e.weeklyBosses="weeklyBosses",e.shiftChecklist="shiftChecklist"}(a||(a={})),function(e){e.magician="magician",e.thief="thief",e.warrior="warrior",e.bowman="bowman",e.pirate="pirate"}(r||(r={}));var g,O,x=c(11),p={checklist:{dailyChecklist:{},shiftChecklist:{},weeklyBosses:{}},characters:[],characterIndex:0,checklistType:a.dailyChecklist},k=Object(b.b)({name:"state",initialState:p,reducers:{updateChecklist:function(e,t){e.checklist=t.payload},updateCharList:function(e,t){e.characters=t.payload},setChecklistType:function(e,t){e.checklistType=t.payload},addChar:function(e,t){e.characters.push(t.payload),localStorage.setItem("characters",JSON.stringify(Object(f.a)(e).characters))},updateChecklistItem:function(e,t){var c=t.payload.field,a=e.checklistType,r=e.characters,s=e.checklist,n=e.characterIndex;e.checklist[a][c]=!s[a][c],localStorage.setItem(r[n].name,JSON.stringify(Object(f.a)(e).checklist))},setCharIndex:function(e,t){var c=e.characters[t.payload].name;e.checklist=function(e){var t=JSON.parse(localStorage.getItem(e));return Object(x.isEmpty)(t)?(localStorage.setItem(e,JSON.stringify(m)),m):t}(c),e.characterIndex=t.payload},resetDailyChecklists:function(e){Object(f.a)(e).characters.forEach((function(e){var t=localStorage.getItem(e.name);if(t){var c=JSON.parse(t.toString()).weeklyBosses;localStorage.setItem(e.name,JSON.stringify(Object(j.a)(Object(j.a)({},m),{},{weeklyBosses:c})))}else localStorage.setItem(e.name,JSON.stringify(Object(j.a)({},m)))}))},resetChecklists:function(e){Object(f.a)(e).characters.forEach((function(e){localStorage.setItem(e.name,JSON.stringify(Object(j.a)({},m)))}))},deleteCharacter:function(e,t){var c=e.characters[t.payload].name;localStorage.removeItem(c),e.characters.splice(t.payload,1),localStorage.setItem("characters",JSON.stringify(Object(f.a)(e).characters))},updateSubChecklist:function(e,t){e.checklist[e.checklistType][t.payload.field]=t.payload.data,localStorage.setItem(e.characters[e.characterIndex].name,JSON.stringify(Object(f.a)(e).checklist))}}}),y=k.actions,v=(y.updateChecklist,y.setCharIndex),C=y.updateCharList,N=y.addChar,S=y.updateChecklistItem,w=y.resetDailyChecklists,I=y.resetChecklists,D=y.setChecklistType,E=y.deleteCharacter,M=y.updateSubChecklist,A=function(e){return e.checklist},T=function(e){return e.checklistType},B=function(e){return e.characters},J=function(e){return e.characterIndex},L=k.reducer,R=c(2),P=c(12),H=c(1),V=P.a.div(g||(g=Object(o.a)(["\n    display: flex;\n    position: relative;\n    flex-direction: column; \n    width: 60%;\n    left: 50%;\n    transform: translate(-50%, 0%);\n"]))),W=function(e){var t=e.setDialogOpen,c=(e.setIsLoading,e.setIsError,e.setErrorMsg,Object(s.useState)("")),a=Object(R.a)(c,2),n=a[0],i=a[1],l=Object(s.useState)(r.magician),o=Object(R.a)(l,2),d=o[0],h=o[1],j=Object(s.useState)(0),b=Object(R.a)(j,2),f=b[0],m=b[1],g=u();return Object(H.jsxs)(V,{children:[Object(H.jsxs)("label",{className:"block",children:[Object(H.jsx)("span",{children:"Name"}),Object(H.jsx)("input",{type:"text",maxLength:12,onChange:function(e){i(e.target.value)},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"})]}),Object(H.jsxs)("label",{className:"block",children:[Object(H.jsx)("span",{children:"Class"}),Object(H.jsx)("select",{onChange:function(e){h(r[e.target.value])},className:"block w-full mt-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",children:Object.keys(r).map((function(e){return Object(H.jsx)("option",{children:e})}))})]}),Object(H.jsxs)("label",{className:"block",children:[Object(H.jsx)("span",{children:"Number"}),Object(H.jsx)("input",{type:"number",max:300,min:0,onChange:function(e){var t=parseInt(e.target.value);m(t>300||t<0?0:t)},value:f,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"})]}),Object(H.jsx)("button",{onClick:function(){g(N({name:n,level:f,class:d})),t(!1)},className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full my-5",children:"Add"})]})};!function(e){e[e.deleteCharacter=0]="deleteCharacter",e[e.addCharacter=1]="addCharacter",e[e.deleteStorage=2]="deleteStorage",e[e.informReset=3]="informReset"}(O||(O={}));var Y,G,Q=function(e){e.setIsLoading,e.setIsError,e.setErrorMsg;var t=e.onConfirm,c=e.confirmMessage;return Object(H.jsxs)("div",{className:"flex flex-col relative px-12 h-full content-center",children:[Object(H.jsx)("p",{className:"text-2xl self-center text-center",children:c}),Object(H.jsx)("button",{onClick:t,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full my-5 cursor-pointer",children:"Confirm"})]})},z=function(e){var t=e.setDialogOpen,c=e.type,a=Object(s.useState)("Dialog"),r=Object(R.a)(a,2),n=r[0],i=r[1],l=Object(s.useState)(!1),o=Object(R.a)(l,2),d=(o[0],o[1]),j=Object(s.useState)(""),b=Object(R.a)(j,2),f=(b[0],b[1]),m=Object(s.useState)(!1),g=Object(R.a)(m,2),x=(g[0],g[1]),p=h((function(e){return e.characterIndex})),k=u();Object(s.useEffect)((function(){switch(c){case O.addCharacter:i("Add Character");break;case O.deleteCharacter|O.deleteStorage:i("Confirm Action")}}),[c]);return Object(H.jsx)("div",{className:"fixed h-full w-screen z-50 inset-0 bg-gray-300 bg-opacity-75 flex justify-center items-center",children:Object(H.jsxs)("span",{className:"relative inset-0 flex flex-col bg-white max-w-1/2 min-w-1/4 max-h-full rounded-lg text-black",children:[Object(H.jsx)("p",{className:"underline text-center h-18 text-2xl font-bold p-5",children:n}),Object(H.jsx)("img",{onClick:function(){return t(!1)},src:"".concat("/maplestorychecklist","/exit.svg"),className:"absolute top-0 right-0 h-4 w-4 m-3 hover:bg-blue-200",alt:"exit"}),function(){switch(c){case O.addCharacter:return Object(H.jsx)(W,{setDialogOpen:t,setIsError:d,setErrorMsg:f,setIsLoading:x});case O.deleteCharacter:return Object(H.jsx)(Q,{confirmMessage:"Are you sure you want to delete this character?",onConfirm:function(){k(E(p)),t(!1)}});case O.deleteStorage:return Object(H.jsx)(Q,{confirmMessage:"Are you sure you want to wipe your character data?",onConfirm:function(){localStorage.clear(),t(!1),window.location.reload()}});case O.informReset:return Object(H.jsx)(Q,{confirmMessage:"Your checklists have been reset!",onConfirm:function(){t(!1)}})}}()]})})},U=function(){var e=Object(s.useState)(!1),t=Object(R.a)(e,2),c=t[0],a=t[1],r=Object(s.useState)(O.deleteCharacter),n=Object(R.a)(r,2),i=n[0],l=n[1];return{toggleDialog:function(e){a(!c),l(e)},renderDialog:function(){return c&&Object(H.jsx)(z,{setDialogOpen:a,type:i})}}},X="hover:bg-accent-grey h-full cursor-pointer px-3 flex items-center",Z=function(){var e=u(),t=U(),c=t.renderDialog,r=t.toggleDialog;return Object(H.jsxs)("div",{className:"fixed top-0 z-30 h-20 px-36 flex-1 min-w-full flex container bg-header-grey text-white justify-between",children:[c(),Object(H.jsxs)("div",{className:"flex items-center ",children:[Object(H.jsx)("img",{src:"".concat("/maplestorychecklist","/maplestory-icon.png"),alt:"Icon",className:"w-12 h-12"}),Object(H.jsx)("p",{className:"text-2xl",children:"Maplelist"})]}),Object(H.jsxs)("div",{className:"flex justify space-x-2 h-full text-xl text-white ",children:[Object(H.jsx)("div",{onClick:function(){e(D(a.dailyChecklist))},className:X,children:Object(H.jsx)("p",{children:"Dailies"})}),Object(H.jsx)("div",{onClick:function(){e(D(a.weeklyBosses))},className:X,children:Object(H.jsx)("p",{children:"Weeklies"})}),Object(H.jsx)("div",{onClick:function(){e(D(a.shiftChecklist))},className:X,children:Object(H.jsx)("p",{children:"Shift"})}),Object(H.jsx)("div",{onClick:function(){r(O.deleteStorage)},className:X,children:Object(H.jsx)("p",{children:"Clear Data"})})]})]})},_=function(e){var t=e.className,c=e.level,a=e.name,s=e.index,n=e.selected,i=e.toggleDialog,l=u();return Object(H.jsxs)("div",{className:"relative cursor-pointer border-accent-grey border-2 shadow-lg flex items-center w-44 h-20 rounded-md hover:ring-2 focus:ring-gray-300 ".concat(n?"ring ring-gray-300 ring-offset-1":""),onClick:function(){return l(v(s))},children:[Object(H.jsx)("img",{className:" w-12 h-12 m-2 rounded-full ring-1",src:"".concat("/maplestorychecklist","/").concat(r[t],".svg"),alt:"".concat(r[t])}),Object(H.jsxs)("div",{className:"pr-2",children:[Object(H.jsx)("p",{children:a}),Object(H.jsx)("p",{children:c})]}),Object(H.jsx)("img",{onClick:function(){i(O.deleteCharacter)},src:"".concat("/maplestorychecklist","/exit.svg"),className:"absolute top-0 right-0 h-2 w-2 m-1 hover:bg-blue-200 ".concat(""),alt:"exit"})]})},q=c(46),F=c(47),K=c(42),$=c(43),ee=c(44),te=function(){var e=h(B),t=h(J),c=u(),a=U(),r=a.renderDialog,n=a.toggleDialog;return Object(s.useEffect)((function(){var e=localStorage.getItem("characters");Object(x.isEmpty)(e)||c(C(JSON.parse(e.toString()))),function(){var e=Object(q.a)(new Date,"America/New_York"),t=localStorage.getItem("lastVisited");if(t){var a=Object(F.a)(e,{hours:19,minutes:0,seconds:0,milliseconds:0}),r=Object(q.a)(t.toString(),"America/New_York");Object(K.a)(e)>=19&&Object($.a)(r,a)&&(Object(ee.a)(e)?(c(I()),console.log("Weekly Reset Triggered")):(c(w()),console.log("Daily Reset Triggered")),n(O.informReset))}localStorage.setItem("lastVisited",e.toISOString())}()}),[]),Object(H.jsxs)("div",{className:"",children:[r(),Object(H.jsx)("div",{className:"flex flex-col items-center py-5 gap-y-6",children:e&&e.map((function(e,c){return Object(s.createElement)(_,{index:c,name:e.name,className:e.class,level:e.level,selected:c===t,toggleDialog:n,key:e.name})}))})]})},ce=P.a.div(Y||(Y=Object(o.a)(["\n    height: calc(100vh - 5rem);\n"]))),ae=function(){var e=U(),t=e.renderDialog,c=e.toggleDialog;return Object(H.jsxs)(ce,{className:"border-r-2 border-accent-grey bottom-0 w-full left-0 relative shadow-xl flex flex-col items-center text-header-grey",children:[t(),Object(H.jsx)("div",{className:"pt-6",children:Object(H.jsx)(te,{})}),Object(H.jsx)("div",{onClick:function(){c(O.addCharacter)},className:"hover:bg-accent-grey hover:text-white absolute bottom-2 w-4/5 h-14 text-center flex items-center justify-center cursor-pointer p-2 border-2 border-accent-grey rounded-md",children:Object(H.jsx)("p",{children:"Add Character"})})]})},re=function(e){var t=e.field,c=e.value,a=Object(s.useState)(!1),r=Object(R.a)(a,2),n=r[0],i=r[1],l=u();return Object(s.useEffect)((function(){i(c)}),[c]),Object(H.jsx)("div",{children:Object(H.jsxs)("label",{className:"inline-flex items-center h-8 cursor-pointer",children:[Object(H.jsx)("input",{type:"checkbox",className:"rounded text-pink-500",checked:n,onChange:function(e){i(e.target.checked),l(S({field:t}))}}),Object(H.jsx)("span",{className:"ml-2",children:t})]})},t)},se=c(16),ne=function(e){var t=e.field,c=e.globalChecked,a=e.value,r=e.onChangeHandler,n=Object(s.useState)(!1),i=Object(R.a)(n,2),l=i[0],o=i[1];return Object(s.useEffect)((function(){o(c)}),[c]),Object(s.useEffect)((function(){o(a)}),[a]),Object(H.jsx)("div",{children:Object(H.jsxs)("label",{className:"inline-flex items-center h-8 cursor-pointer",children:[Object(H.jsx)("input",{type:"checkbox",className:"rounded text-pink-500",checked:l,onChange:function(e){console.log(e.target.checked),o(e.target.checked),r(t,e.target.checked)}}),Object(H.jsx)("span",{className:"ml-2",children:t})]})})},ie=function(e){var t=e.checklist,c=e.label,a=Object(s.useState)(!1),r=Object(R.a)(a,2),n=r[0],i=r[1],l=u(),o=function(e,a){console.log("On change: ",e,a),l(M({field:c,data:Object(j.a)(Object(j.a)({},t),{},Object(se.a)({},e,a))}))};return Object(H.jsxs)("div",{children:[Object(H.jsxs)("label",{className:"inline-flex items-center h-8 cursor-pointer",children:[Object(H.jsx)("input",{type:"checkbox",className:"rounded text-pink-500",checked:n,onChange:function(e){var a;i(e.target.checked),a=e.target.checked,console.log("Change all"),l(M({field:c,data:Object(x.mapValues)(t,(function(){return a}))}))}}),Object(H.jsx)("span",{className:"ml-2",children:c})]}),Object(H.jsx)("div",{className:"ml-10",children:Object.entries(t).map((function(e){var t=Object(R.a)(e,2),c=t[0],a=t[1];return"boolean"===typeof a?Object(s.createElement)(ne,{field:c,value:a,globalChecked:n,onChangeHandler:o,key:c}):void 0}))})]})},le=function(){var e=h(T),t=h(A);return Object(H.jsx)("div",{className:"container w-full flex flex-col text-lg",children:Object.entries(t[e]).map((function(e){var t=Object(R.a)(e,2),c=t[0],a=t[1];return"boolean"!==typeof a?Object(H.jsx)(ie,{label:c,checklist:a},c):Object(s.createElement)(re,{field:c,value:a,key:c})}))})},oe=c(45),de=c(48),ue=function(){var e=function(e){var t=new Date,c=Object(oe.a)(e,t);return{days:Math.floor(c/864e5),hours:Math.floor(c/36e5%24),minutes:Math.floor(c/1e3/60%60),seconds:Math.floor(c/1e3%60)}},t=Object(s.useState)(e(Object(de.a)())),c=Object(R.a)(t,2),a=c[0],r=c[1];return Object(s.useEffect)((function(){var t=setTimeout((function(){r(e(Object(de.a)()))}),1e3);return function(){return clearTimeout(t)}})),Object(H.jsx)("div",{children:Object(H.jsx)("p",{children:"Time Until Today's Reset ".concat(a.days," Days, ").concat(a.hours,":").concat(a.minutes,":").concat(a.seconds)})})},he=function(){return Object(H.jsxs)("div",{className:"py-10 px-20 relative",children:[Object(H.jsx)(le,{}),Object(H.jsx)("div",{className:"absolute right-40 top-10",children:Object(H.jsx)(ue,{})})]})},je=P.a.div(G||(G=Object(o.a)(["\n    display: grid;\n    grid-template-columns: 12.5% auto; \n    width: 100vw;\n"]))),be=function(){return Object(H.jsxs)("div",{className:"h-screen",children:[Object(H.jsx)(Z,{}),Object(H.jsxs)(je,{className:"pt-20",children:[Object(H.jsx)(ae,{}),Object(H.jsx)(he,{})]})]})},fe=Object(b.a)({reducer:L});var me=function(){return Object(H.jsx)("div",{children:Object(H.jsx)(d.a,{store:fe,children:Object(H.jsx)(be,{})})})};c(39);l.a.render(Object(H.jsx)(n.a.StrictMode,{children:Object(H.jsx)(me,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.0e4b8d73.chunk.js.map